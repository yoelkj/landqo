/* src/styles/tokens.css */
/**
 * TOKENS DE DISEÑO (PRIMITIVOS + SEMÁNTICOS)
 * - PRIMITIVOS: paletas base (HSL/HEX).
 * - SEMÁNTICOS: variables que consumen los componentes.
 */
@layer base {

  /* ───────────────────── PRIMITIVOS (marca/base) ──────────────────────── */
  :root {
    /* Marca base en HSL (fallback) */
    --brand-hue: 246;   /* índigo / blurple */
    --brand-sat: 72%;
    --brand-lit: 58%;

    /* ⚠️ OVERRIDES HEX (color real de la marca) */
    /* Primary: #293FCC + sus estados */
    --brand-primary:     #293FCC; /* primary */
    --brand-primary-600: #2337B6; /* hover (≈ -10%) */
    --brand-primary-700: #1E2FA0; /* active (≈ -18%) */
    --brand-on-primary:  #FFFFFF;

    /* Indigo de apoyo para outlines/enlaces oscuros */
    --brand-secondary:   #1E2A8C;

    /* Acento (fallback si no hay HEX de tenant) */
    --accent-hue: 38;   /* ámbar */
    --accent-sat: 92%;
    --accent-lit: 55%;

    /* Neutros (HSL) */
    --neutral-0:   0 0% 100%;
    --neutral-50:  210 20% 98%;
    --neutral-100: 210 20% 96%;
    --neutral-200: 214 15% 91%;
    --neutral-300: 212 12% 84%;
    --neutral-400: 215 11% 65%;
    --neutral-500: 214 10% 49%;
    --neutral-600: 215 15% 35%;
    --neutral-700: 215 19% 27%;
    --neutral-800: 217 33% 17%;
    --neutral-850: 220 25% 14%; /* usado como elevación oscura */
    --neutral-900: 222 47% 11%;
    --neutral-950: 228 56% 6%;

    /* Estados (HSL) */
    --success: 142 71% 45%;
    --warning: 38  92% 50%;
    --danger:  0   84% 60%;
    --info:    199 89% 48%;

    /* Tipografía */
    --font-sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
    --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;

    /* Escalas tipográficas (clamp responsivo) — v2 */
    --text-xs:   clamp(0.80rem, 0.74rem + 0.14vw, 0.84rem);
    --text-sm:   clamp(0.92rem, 0.86rem + 0.16vw, 0.98rem);
    --text-base: clamp(1.02rem, 0.98rem + 0.18vw, 1.10rem);
    --text-lg:   clamp(1.14rem, 1.07rem + 0.26vw, 1.30rem);
    --text-xl:   clamp(1.32rem, 1.22rem + 0.38vw, 1.60rem);
    --text-2xl:  clamp(1.50rem, 1.36rem + 0.50vw, 2.05rem);
    --text-3xl:  clamp(1.82rem, 1.64rem + 0.82vw, 2.56rem);
    --text-4xl:  clamp(2.20rem, 1.98rem + 1.08vw, 3.20rem);

    /* Espaciado (8pt grid) */
    --space-1:  .25rem; --space-2: .5rem; --space-3: .75rem; --space-4: 1rem;
    --space-5: 1.25rem; --space-6: 1.5rem; --space-8: 2rem; --space-10: 2.5rem;
    --space-12: 3rem;   --space-16: 4rem;  --space-20: 5rem;

    /* Radios & sombras */
    --radius-sm: .375rem; --radius-md: .75rem; --radius-lg: 1rem;
    --radius-xl: 1.25rem; --radius-2xl: 1.5rem;

    --shadow-sm: 0 1px 2px hsl(220 3% 15% / .06);
    --shadow-md: 0 8px 24px hsl(220 3% 15% / .10);
    --shadow-lg: 0 18px 40px hsl(220 3% 15% / .12);

    /* Transiciones */
    --ease: cubic-bezier(.2,.8,.2,1);
    --transition-fast: 120ms var(--ease);
    --transition:      200ms var(--ease);
    --transition-slow: 320ms var(--ease);

    /* Z-index */
    --z-base: 1; --z-sticky: 1000; --z-overlay: 1050; --z-modal: 1100;

    /* Contenedores / layout */
    --container-max: 1200px; --container-pad: 1rem;
    --container-pad-sm: 16px; --container-pad-md: 24px; --container-pad-lg: 32px;

    /* Header y ritmo vertical */
    --header-h: 64px;
    --border: 1;
    --section-y: 4rem; --section-y-lg: 6rem;

    /* ===== Rejilla decorativa (premium) y spotlight ===== */
    --grid-size: 26px;   /* separación entre líneas (más densa) */
    --grid-line: .5px;   /* grosor fino */
    --grid-color: color-mix(in oklch, var(--color-border) 60%, transparent);
    --grid-vignette: radial-gradient(120% 80% at 50% 0%,
                      rgba(0,0,0,0.04) 0%,
                      rgba(0,0,0,0.02) 30%,
                      rgba(0,0,0,0.00) 60%);
    /* Glow que dirige al mockup (se usa con .spotlight) */
    --hero-spotlight:
      radial-gradient(38rem 22rem at 74% 38%,
        color-mix(in oklch, var(--color-primary) 14%, transparent) 0%,
        transparent 60%);
  }

  /* ───────────────────── SEMÁNTICOS (para componentes) ─────────────────── */
  :root {
    /* Superficies / texto (light base) */
    --color-bg:       hsl(var(--neutral-0));
    --color-bg-elev:  hsl(var(--neutral-50));
    --color-surface:  hsl(var(--neutral-100));
    --color-border:   hsl(var(--neutral-200));
    --color-fg:       hsl(var(--neutral-800));
    --color-fg-muted: hsl(var(--neutral-500));

    /* Primario (usa HEX si están definidos arriba) */
    --color-primary:     var(--brand-primary,     hsl(var(--brand-hue) var(--brand-sat) var(--brand-lit)));
    --color-primary-600: var(--brand-primary-600, color-mix(in oklch, var(--color-primary) 90%, black));
    --color-primary-700: var(--brand-primary-700, color-mix(in oklch, var(--color-primary) 80%, black));
    --color-on-primary:  var(--brand-on-primary,  hsl(var(--neutral-0)));

    /* Secundario / acentos */
    --color-accent:        var(--brand-accent,    hsl(var(--accent-hue) var(--accent-sat) var(--accent-lit)));
    --color-on-accent:     var(--brand-on-accent, hsl(var(--neutral-0)));
    --color-secondary:     var(--brand-secondary, var(--color-accent));
    --color-secondary-600: var(--brand-secondary-600, color-mix(in oklch, var(--color-secondary) 90%, black));
    --color-secondary-700: var(--brand-secondary-700, color-mix(in oklch, var(--color-secondary) 80%, black));
    --color-on-secondary:  var(--brand-on-secondary, hsl(var(--neutral-0)));

    /* Estados */
    --color-success: hsl(var(--success));
    --color-warning: hsl(var(--warning));
    --color-danger:  hsl(var(--danger));
    --color-info:    hsl(var(--info));

    /* Ring / focus & links */
    --color-ring: var(--color-primary);
    --link:       var(--color-primary);
    --link-hover: var(--color-primary-700);
  }

  /* ───────────────────── Dark Mode (via data-theme="dark") ─────────────── */
  [data-theme="dark"] {
    --color-bg:       hsl(var(--neutral-900));
    --color-bg-elev:  hsl(var(--neutral-850));
    --color-surface:  hsl(var(--neutral-800));
    --color-border:   hsl(var(--neutral-700));
    --color-fg:       hsl(var(--neutral-50));
    --color-fg-muted: hsl(var(--neutral-400));

    /* Primary igual; puedes subir luz si lo prefieres */
    --color-primary:     var(--brand-primary);
    --color-primary-600: var(--brand-primary-600);
    --color-primary-700: var(--brand-primary-700);
    --color-on-primary:  #FFFFFF;

    --link:       var(--color-primary);
    --link-hover: var(--color-primary-600);

    /* Rejilla y spotlight en dark (más tenue) */
    --grid-color: color-mix(in oklch, var(--color-border) 45%, transparent);
    --grid-vignette: radial-gradient(120% 80% at 50% 0%,
                        rgba(255,255,255,0.05) 0%,
                        rgba(255,255,255,0.025) 30%,
                        rgba(255,255,255,0.00) 60%);
    --hero-spotlight:
      radial-gradient(38rem 22rem at 74% 38%,
        color-mix(in oklch, var(--color-primary) 20%, transparent) 0%,
        transparent 60%);
  }
}
