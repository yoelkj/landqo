---
/**
 * FAQ.astro — Preguntas frecuentes
 *
 * Props:
 * - id?: string
 * - title?: string           — título de la sección (default: "Preguntas frecuentes")
 * - subtitle?: string        — subtítulo opcional
 * - items: { q: string; a: string }[]
 * - variant?: "default"|"alt"|"inverted"
 * - className?: string
 */

import Section from "@/components/ui/Section.astro";
import type { BaseSectionProps, Variant } from "@/utils/section-types";

export interface FAQItem {
  q: string;
  a: string;
}

interface Props extends BaseSectionProps {
  title?: string;
  subtitle?: string;
  items?: FAQItem[];
}

const {
  id = "faq",
  title = "Preguntas frecuentes",
  subtitle,
  items = [],
  variant = "default" as Variant,
  className = "",
} = Astro.props as Props;
---

<Section
  id={id}
  title={title}
  subtitle={subtitle}
  variant={variant}
  className={className}
>
  <div class="container max-w-3xl">
    <div class="grid gap-4">
      {
        items.map((it) => (
          <details class="group card p-5 transition-colors open:bg-[color:var(--color-bg-elev)]">
            <summary class="flex cursor-pointer items-center justify-between font-medium list-none focus:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--color-ring)] rounded-md">
              <span>{it.q}</span>
              <svg
                class="h-5 w-5 ml-2 text-[color:var(--color-fg-muted)] transition-transform duration-200 group-open:rotate-45"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                viewBox="0 0 24 24"
              >
                <path stroke-linecap="round" d="M12 4v16m8-8H4" />
              </svg>
            </summary>
            <p class="mt-3 text-sm leading-relaxed text-[color:var(--color-fg-muted)]">
              {it.a}
            </p>
          </details>
        ))
      }
    </div>
  </div>
</Section>

<style is:inline>
  details summary::-webkit-details-marker {
    display: none; /* quita el triangulito por defecto */
  }
</style>
