---
/**
 * Timeline.astro — Hitos de proyecto
 *
 * Props:
 * - id?: string
 * - title?: string
 * - subtitle?: string
 * - milestones?: { label: string; date: string }[]
 * - variant?: "default"|"alt"|"inverted"
 * - className?: string
 */

import Section from "@/components/ui/Section.astro";
import type { BaseSectionProps, Variant } from "@/utils/section-types";

interface Milestone {
  label: string;
  date: string;
}

interface Props extends BaseSectionProps {
  title?: string;
  subtitle?: string;
  milestones?: Milestone[];
  variant?: Variant;
}

const {
  id = "timeline",
  title = "Timeline",
  subtitle = "Hitos clave para lanzar tu proyecto con éxito",
  milestones = [
    { label: "Kickoff", date: "Semana 1" },
    { label: "Diseño", date: "Semana 2" },
    { label: "Build", date: "Semana 3" },
    { label: "Go Live", date: "Semana 4" },
  ],
  variant = "default" as Variant,
  className = "",
} = Astro.props as Props;
---

<Section id={id} title={title} subtitle={subtitle} variant={variant} className={className}>
  <div class="container">
    <ol
      aria-label="Hitos del proyecto"
      class="relative border-l border-[color:var(--color-border)] ml-4 space-y-10"
    >
      {milestones.map((m, i) => (
        <li class="ml-6 relative">
          <!-- Bullet -->
          <span
            class="absolute -left-4 top-0 flex h-8 w-8 items-center justify-center rounded-full
                   bg-[color:var(--color-primary)] text-[color:var(--color-on-primary)] font-bold shadow"
          >
            {i + 1}
          </span>
          <!-- Content -->
          <div class="card p-5">
            <div class="font-semibold">{m.label}</div>
            <time class="text-sm text-[color:var(--color-fg-muted)]">{m.date}</time>
          </div>
        </li>
      ))}
    </ol>
  </div>
</Section>
