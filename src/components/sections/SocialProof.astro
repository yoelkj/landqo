---
/**
 * SocialProof.astro — Testimonios de clientes
 *
 * Props:
 * - id?: string
 * - title?: string
 * - subtitle?: string
 * - testimonials?: { name: string; role: string; quote: string; avatar?: string }[]
 * - variant?: "default"|"alt"|"inverted"
 * - className?: string
 */

import Section from "@/components/ui/Section.astro";
import type { BaseSectionProps, Variant } from "@/utils/section-types";

interface Testimonial {
  name: string;
  role: string;
  quote: string;
  avatar?: string;
}
interface Props extends BaseSectionProps {
  title?: string;
  subtitle?: string;
  testimonials?: Testimonial[];
  variant?: Variant;
}

const {
  id = "social-proof",
  title = "Lo que dicen nuestros clientes",
  subtitle = "Historias reales de equipos que lanzaron más rápido gracias al boilerplate",
  testimonials = [
    { name: "Ana", role: "CMO", quote: "Lanzamos en días, no semanas." },
    { name: "Luis", role: "Founder", quote: "Estructura clara y fácil de mantener." },
  ],
  variant = "default" as Variant,
  className = "",
} = Astro.props as Props;
---

<Section id={id} title={title} subtitle={subtitle} variant={variant} className={className}>
  <div class="container">
    <div class="mt-10 grid gap-8 md:grid-cols-2">
      {testimonials.map((t, i) => (
        <blockquote
          aria-label={`Testimonio de ${t.name}`}
          class="card relative p-8 shadow-sm transition-transform hover:-translate-y-1 hover:shadow-[var(--shadow-md)]"
        >
          <!-- Cita -->
          <p class="text-lg leading-relaxed before:content-['“'] after:content-['”'] before:text-4xl after:text-4xl before:mr-1 after:ml-1 text-balance">
            {t.quote}
          </p>

          <!-- Autor -->
          <footer class="mt-6 flex items-center gap-4">
            {t.avatar && (
              <img
                src={t.avatar}
                alt={`Foto de ${t.name}`}
                class="h-12 w-12 rounded-full object-cover border border-[color:var(--color-border)]"
                loading="lazy"
              />
            )}
            <div>
              <div class="font-semibold">{t.name}</div>
              <div class="text-sm text-[color:var(--color-fg-muted)]">{t.role}</div>
            </div>
          </footer>
        </blockquote>
      ))}
    </div>
  </div>
</Section>
